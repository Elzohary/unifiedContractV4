<!-- Check if this is a temporary route -->
<div *ngIf="isTempRoute" class="coming-soon-container">
  <mat-icon class="coming-soon-icon">engineering</mat-icon>
  <h2>{{ tempRouteMessage }}</h2>
  <p>This feature is currently under development and will be available soon.</p>
  <button mat-raised-button  routerLink="/hr/dashboard">Back to HR Dashboard</button>
</div>

<!-- Regular dashboard content -->
<div *ngIf="!isTempRoute" class="dashboard-container">
  <div class="dashboard-header">
    <h1>HR Dashboard</h1>
    <p>Welcome back! Here's what's happening with your team today.</p>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-header">
        <div class="stat-icon primary">
          <mat-icon>group</mat-icon>
        </div>
        <h3 class="stat-title">Total Employees</h3>
      </div>
      <p class="stat-value">{{totalEmployees}}</p>
      <div class="stat-trend" [ngClass]="{'positive': totalEmployeesTrend > 0, 'negative': totalEmployeesTrend < 0}">
        <mat-icon *ngIf="totalEmployeesTrend > 0">trending_up</mat-icon>
        <mat-icon *ngIf="totalEmployeesTrend < 0">trending_down</mat-icon>
        <span *ngIf="totalEmployeesTrend !== 0">{{ totalEmployeesTrend > 0 ? '+' : ''}}{{totalEmployeesTrend}}% {{trendLabel}}</span>
        <span *ngIf="totalEmployeesTrend === 0">No change</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-header">
        <div class="stat-icon accent">
          <mat-icon>pending_actions</mat-icon>
        </div>
        <h3 class="stat-title">Pending Requests</h3>
      </div>
      <p class="stat-value">{{pendingRequests}}</p>
      <div class="stat-trend" [ngClass]="{'positive': pendingRequestsTrend > 0, 'negative': pendingRequestsTrend < 0}">
        <mat-icon *ngIf="pendingRequestsTrend > 0">trending_up</mat-icon>
        <mat-icon *ngIf="pendingRequestsTrend < 0">trending_down</mat-icon>
        <span *ngIf="pendingRequestsTrend !== 0">{{ pendingRequestsTrend > 0 ? '+' : ''}}{{pendingRequestsTrend}}% {{trendLabel}}</span>
        <span *ngIf="pendingRequestsTrend === 0">No change</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-header">
        <div class="stat-icon warning">
          <mat-icon>person_off</mat-icon>
        </div>
        <h3 class="stat-title">Absent Today</h3>
      </div>
      <p class="stat-value">{{absentToday}}</p>
      <div class="stat-trend" [ngClass]="{'positive': absentTodayTrend > 0, 'negative': absentTodayTrend < 0}">
        <mat-icon *ngIf="absentTodayTrend > 0">trending_up</mat-icon>
        <mat-icon *ngIf="absentTodayTrend < 0">trending_down</mat-icon>
        <span *ngIf="absentTodayTrend !== 0">{{ absentTodayTrend > 0 ? '+' : ''}}{{absentTodayTrend}}% {{trendLabel}}</span>
        <span *ngIf="absentTodayTrend === 0">No change</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-header">
        <div class="stat-icon success">
          <mat-icon>warning</mat-icon>
        </div>
        <h3 class="stat-title">Active Warnings</h3>
      </div>
      <p class="stat-value">{{activeWarnings}}</p>
      <div class="stat-trend" [ngClass]="{'positive': activeWarningsTrend > 0, 'negative': activeWarningsTrend < 0}">
        <mat-icon *ngIf="activeWarningsTrend > 0">trending_up</mat-icon>
        <mat-icon *ngIf="activeWarningsTrend < 0">trending_down</mat-icon>
        <span *ngIf="activeWarningsTrend !== 0">{{ activeWarningsTrend > 0 ? '+' : ''}}{{activeWarningsTrend}}% {{trendLabel}}</span>
        <span *ngIf="activeWarningsTrend === 0">No change</span>
      </div>
    </div>
  </div>

  <div class="features-grid">
    <mat-card class="feature-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>person_add</mat-icon>
          Employee Onboarding
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>Streamline the onboarding process for new employees with our comprehensive checklist and automated workflows.</p>
        <div class="feature-actions">
          <button mat-raised-button >Start Onboarding</button>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="feature-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>event_note</mat-icon>
          Performance Reviews
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>Schedule and manage performance reviews with our intuitive review system and feedback templates.</p>
        <div class="feature-actions">
          <button mat-raised-button>Schedule Review</button>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="feature-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>work_off</mat-icon>
          Leave Management
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>Handle leave requests, approvals, and tracking with our automated leave management system.</p>
        <div class="feature-actions">
          <button mat-raised-button>View Requests</button>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <mat-card class="recent-activities">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>history</mat-icon>
        Recent Activities
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="activity-list">
        <div class="activity-item" *ngFor="let activity of recentActivities">
          <div class="activity-icon" [ngClass]="activity.type">
            <mat-icon>{{activity.icon}}</mat-icon>
          </div>
          <div class="activity-content">
            <h4 class="activity-title">{{activity.title}}</h4>
            <p class="activity-description">{{activity.description}}</p>
            <span class="activity-time">{{activity.time}}</span>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
